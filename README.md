# Image Border Remover (画像黒枠削除ツール)

指定されたディレクトリ内の画像ファイルから、周囲の不要な黒い枠を自動的に検出し、削除（クロップ）するコマンドラインツールです。

## 特徴

- **自動黒枠検出**: 画像の上下左右からスキャンし、連続する黒い領域（RGB値が閾値以下）を特定して除去します。
- **バッチ処理**: 指定したディレクトリ内のすべての対応画像を処理します。
- **対応フォーマット**: JPEG (`.jpg`, `.jpeg`) と PNG (`.png`)。
- **非破壊**: 元のファイルは変更せず、`processed_` というプレフィックスを付けた新しいファイルとして保存します。

## 必要要件

- Go 1.23 以上

## ビルド方法

以下のコマンドを実行して実行可能ファイルをビルドします。

```bash
go build -o border-remover main.go
```

## 使い方

ビルドした実行ファイルに、処理したい画像が入っているディレクトリのパスを引数として渡して実行します。

### 実行例

```bash
./border-remover ./images
```

または、`go run` で直接実行することも可能です。

```bash
go run main.go /path/to/your/images
```

### 実行結果

処理が完了すると、元のディレクトリに `processed_<元のファイル名>` という名前でクロップ済みの画像が生成されます。

例:
- 元ファイル: `images/photo.jpg`
- 出力ファイル: `images/processed_photo.jpg`

## 注意事項

- **真っ黒な画像**: エラーメッセージが表示され、処理はスキップされます。
- **黒枠がない画像**: そのままの内容で `processed_` ファイルとして保存されます（コピーされます）。
- **すでに処理済みのファイル**: ファイル名が `processed_` で始まるファイルは、二重処理を防ぐためにスキップされます。

## テスト

以下のコマンドで単体テストを実行できます。

```bash
go test ./...
```
